<!DOCTYPE html>
<html>
  <head>
    <title>Create Container</title>
    <script type="module">
      import {CreateContainer} from "./../dist/Pages/CreateContainer.js";
      new CreateContainer();
    </script>
    <link href="../css/bootstrap/css/bootstrap.css" rel="stylesheet" type="text/css">
    <link href="../css/my.css" rel="stylesheet" type="text/css">
  </head>
  <body class="container">
    <h1>Create InternetNomad Container</h1>
    <p>Bla bla etc etc</p>
    <h2>How should we encrypt the container?</h2>
    <h3>Choose a cipher:</h3>
    <p>A cipher is an algorithm that turns plaintext into cyphertext. A good cipher makes the cypertext appear indistinguishable from random. Blowfish is recommended because Blowfish can take 56 byte keys. This means that it might be more secure than AES when attacked by quantum computers. </p>
    <div class="form-check mb-3" id="cipher_form">
      <div class="form-check">
        <input class="form-check-input" type="radio" name="cipher" id="cipher_blowfish" value="cipher_blowfish" checked="true">
        <label class="form-check-label" for="cipher_blowfish">Blowfish (recomended)</label>
      </div>

      <div class="form-check">
        <input class="form-check-input" type="radio" name="cipher" id="cipher_aes" value="cipher_aes">
        <label class="form-check-label" for="cipher_aes">AES</label>
      </div>
    </div>

    <h3>Choose a key derivation function</h3>
    <p>A key derivation function derives a key that will be used to open your slot. PBKDF2 is a tried and tesed key derivation function but cannot scale with memory. Argon2 is better because it can scale with time and memory. </p>
    <div class="form-check mb-3" id="kdf_form">
      <div class="form-check">
        <input class="form-check-input" type="radio" name="keyDerivationFunction" id="kdf_argon2" value="kdf_argon2" checked="true">
        <label class="form-check-label" for="kdf_argon2">Argon2 (recomended, async)</label>
      </div>

      <div class="form-check">
        <input class="form-check-input" type="radio" name="keyDerivationFunction" id="kdf_PBKDF2" value="kdf_PBKDF2">
        <label class="form-check-label" for="kdf_PBKDF2">PBKDF2 (currently blocks)</label>
      </div>
    </div>

    <h3>How long should it take you to open your container?</h3>
    <p>The longer you wait, the more secure your passwords are. Maybe a better question would be: how much patience do you have for your security?</p>
    <!-- TODO: Make sure to allow the user to insert the number of iterations -->
    <div class="form-check mb-3">
      <label for="time" class="form-label" id="time_label">3 Seconds.</label>
      <input type="range" class="form-range" min="1" max="30" step="0.1" value="3" id="time">
    </div>

    <div id="argon2_specific_options">
      <h3>How much memory should it take to open the container? (Argon2 only)</h3>
      <p class="text-danger">If you select a number too high, it might cause your app to run out of memory and crash.</p>
      <div class="form-check mb-3">
        <label for="argon2_memory" class="form-label" id="memory_amount_notifier">We will use {} of memory</label>
        <input type="range" class="form-range" min="0" max="20" step="0.1" value="0" id="argon2_memory">
        <div class="form-check">
          <input class="form-check-input" type="checkbox" value="" id="argon2_auto_memory">
          <label class="form-check-label" for="argon2_auto_memory" id="memory_label">Detect memory automatically</label>
        </div>
      </div>
    </div>

    <h3>Password</h3>
    <p>Although these methods are beyond military grade; Passwords are the weakest link. Make it private; unique and secure</p>
    <div class="form-check mb-3" id="password_form">
      <label class="col-sm-2 col-form-label" for="password_once">Password: </label>
      <input class="form-control" type="password" name="password" id="password_once">

      <label class="col-sm-2 col-form-label" for="password_twice">Confirm: </label>
      <input class="form-control" type="password" name="password" id="password_twice">
    </div>

    <button id="submitButton" type="button" class="btn btn-primary">Submit</button>

    <div id="benchmarkScreen" class="animateOpacity row mb-3 mt-3" style="opacity: 0">
      <div class="center-block">
        <h4>Making container...</h4>
        <p>This can take up to 5 minutes...</p>
      </div>
    </div>

    <script src="../css/bootstrap/js/bootstrap.js"></script>
  </body>
</html>
